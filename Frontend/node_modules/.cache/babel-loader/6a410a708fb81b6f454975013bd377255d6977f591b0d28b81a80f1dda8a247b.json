{"ast":null,"code":"var _jsxFileName = \"D:\\\\projectSem2BullXit\\\\ProjectSem2\\\\Frontend\\\\src\\\\components\\\\pages\\\\PaymentSuccess.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { CartContext } from '../../App';\nimport '../../styles/PaymentPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentSuccess = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [orderDetails, setOrderDetails] = useState(null);\n  const [paymentProcessed, setPaymentProcessed] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    setCartItems\n  } = useContext(CartContext);\n  useEffect(() => {\n    // Prevent duplicate API calls\n    if (paymentProcessed) {\n      return;\n    }\n    const completePayment = async () => {\n      try {\n        // Get URL parameters\n        const params = new URLSearchParams(location.search);\n\n        // Parse all possible parameter variations\n        const paymentId = params.get('paymentId') || params.get('token');\n        const payerId = params.get('PayerID') || params.get('payerId');\n        const customerId = params.get('customerId');\n        const addressId = params.get('addressId');\n        console.log('URL parameters:', location.search);\n        console.log('Parsed parameters:', {\n          paymentId,\n          payerId,\n          customerId,\n          addressId\n        });\n\n        // Check if we have the required parameters\n        if (!customerId || !addressId) {\n          throw new Error(`Missing customer or address ID: customerId=${customerId}, addressId=${addressId}`);\n        }\n\n        // If we're missing PayPal parameters, show an error\n        if (!paymentId) {\n          throw new Error('Missing PayPal payment ID. Payment cannot be completed.');\n        }\n        if (!payerId) {\n          throw new Error('Missing PayPal Payer ID. Payment cannot be completed.');\n        }\n\n        // Convert string IDs to numbers for backend\n        const customerIdNum = parseInt(customerId, 10);\n        const addressIdNum = parseInt(addressId, 10);\n        console.log('Completing PayPal payment with:', {\n          paymentId,\n          payerId,\n          customerId,\n          addressId\n        });\n        try {\n          // Check local storage for existing order details to avoid duplicate API calls\n          const storedOrderDetails = localStorage.getItem('lastCompletedOrder');\n          if (storedOrderDetails) {\n            const parsedOrder = JSON.parse(storedOrderDetails);\n            // Check if this is the same payment ID\n            if (parsedOrder.paymentId === paymentId) {\n              console.log('Found existing order details in local storage:', parsedOrder);\n              setOrderDetails(parsedOrder.order);\n              setPaymentProcessed(true);\n              setLoading(false);\n              return;\n            }\n          }\n\n          // Call backend to complete payment - use the full, correct URL\n          console.log('Sending request to backend with params:', {\n            paymentId,\n            PayerID: payerId,\n            customerId: customerIdNum,\n            addressId: addressIdNum\n          });\n          const response = await axios.post('http://localhost:8080/api/paypal/complete', {},\n          // Empty body instead of null\n          {\n            params: {\n              paymentId: paymentId,\n              PayerID: payerId,\n              customerId: customerIdNum,\n              addressId: addressIdNum\n            }\n          });\n          console.log('Payment completed successfully:', response.data);\n          setOrderDetails(response.data.order);\n\n          // Store order details in local storage to prevent duplicate processing\n          localStorage.setItem('lastCompletedOrder', JSON.stringify({\n            paymentId,\n            order: response.data.order,\n            timestamp: new Date().toISOString()\n          }));\n\n          // Clear cart items after successful payment\n          setCartItems([]);\n\n          // Mark payment as processed to prevent duplicate calls\n          setPaymentProcessed(true);\n          setLoading(false);\n        } catch (err) {\n          console.error('Error completing payment:', err.response ? err.response.data : err.message);\n\n          // Check if this is a \"Cart is empty\" error, which likely means payment was already processed\n          if (err.response && err.response.data && err.response.data.includes('Cart is empty')) {\n            console.log('Cart is empty error - payment likely already processed');\n\n            // Try to fetch order details from backend using the payment ID\n            try {\n              const orderResponse = await axios.get(`http://localhost:8080/api/orders/by-payment/${paymentId}`);\n              if (orderResponse.data) {\n                setOrderDetails(orderResponse.data);\n                setPaymentProcessed(true);\n                setLoading(false);\n                return;\n              }\n            } catch (orderErr) {\n              console.error('Failed to fetch order by payment ID:', orderErr);\n            }\n\n            // If we can't get the order details, show a generic success message\n            setOrderDetails({\n              id: 'unknown',\n              total: 'See order history',\n              items: [],\n              status: 'COMPLETED',\n              paymentMethod: 'PAYPAL',\n              transactionId: paymentId\n            });\n            setPaymentProcessed(true);\n            setLoading(false);\n            return;\n          }\n          setError(err.response ? `${err.response.status} ${err.response.statusText}: ${JSON.stringify(err.response.data)}` : err.message);\n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error completing payment:', err);\n        setError(err.message || 'Failed to complete payment');\n        setLoading(false);\n      }\n    };\n    completePayment();\n  }, [location.search, setCartItems, paymentProcessed]);\n  const handleContinueShopping = () => {\n    navigate('/');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-result-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-result-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Processing Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please wait while we complete your order...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-result-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-result-card error\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Payment Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => navigate('/cart'),\n          children: \"Return to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-result-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-result-card success order-confirmation-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-icon-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"success-icon\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Payment Successful!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"reassurance-message\",\n          children: \"Thank you for your order! Your items will be processed shortly.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), orderDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-summary-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Order Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Order ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 18\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-id-value\",\n              children: orderDetails.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 18\n            }, this), \" \", new Date(orderDetails.orderDate).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-items-detailed\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Items Ordered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"order-items-list-detailed\",\n            children: orderDetails.orderItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"order-item-entry\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.product.imageUrl || `https://via.placeholder.com/60x60.png?text=${item.product.name.substring(0, 1)}`,\n                alt: item.product.name,\n                className: \"item-thumbnail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-name\",\n                  children: item.product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-quantity\",\n                  children: [\"Qty: \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-price-total\",\n                children: [\"$\", (item.price * item.quantity).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-totals-summary\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"grand-total\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 42\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-value\",\n              children: [\"$\", orderDetails.totalAmount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 73\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"additional-order-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shipping-info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Shipping To:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), orderDetails.shippingAddress ? /*#__PURE__*/_jsxDEV(\"address\", {\n              children: [orderDetails.shippingAddress.contactName || '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 69\n              }, this), orderDetails.shippingAddress.street, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 58\n              }, this), orderDetails.shippingAddress.city, \", \", orderDetails.shippingAddress.state || '', \" \", orderDetails.shippingAddress.postalCode, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 142\n              }, this), orderDetails.shippingAddress.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Shipping address not available.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Payment Information:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Method:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 20\n              }, this), \" \", orderDetails.payments && orderDetails.payments.length > 0 ? orderDetails.payments[0].paymentMethod : 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Transaction ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 20\n              }, this), \" \", orderDetails.payments && orderDetails.payments.length > 0 ? orderDetails.payments[0].transactionId : 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"continue-shopping-button\",\n          onClick: handleContinueShopping,\n          children: \"Continue Shopping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"view-orders-button\",\n          onClick: () => navigate('/my-orders'),\n          children: \"View My Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentSuccess, \"vfP2/AN6Uomid4SB611+oF8KmPM=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = PaymentSuccess;\nexport default PaymentSuccess;\nvar _c;\n$RefreshReg$(_c, \"PaymentSuccess\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useLocation","useNavigate","axios","CartContext","jsxDEV","_jsxDEV","PaymentSuccess","_s","loading","setLoading","error","setError","orderDetails","setOrderDetails","paymentProcessed","setPaymentProcessed","location","navigate","setCartItems","completePayment","params","URLSearchParams","search","paymentId","get","payerId","customerId","addressId","console","log","Error","customerIdNum","parseInt","addressIdNum","storedOrderDetails","localStorage","getItem","parsedOrder","JSON","parse","order","PayerID","response","post","data","setItem","stringify","timestamp","Date","toISOString","err","message","includes","orderResponse","orderErr","id","total","items","status","paymentMethod","transactionId","statusText","handleContinueShopping","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","orderDate","toLocaleString","orderItems","map","item","src","product","imageUrl","name","substring","alt","quantity","price","toFixed","totalAmount","shippingAddress","contactName","street","city","state","postalCode","country","payments","length","_c","$RefreshReg$"],"sources":["D:/projectSem2BullXit/ProjectSem2/Frontend/src/components/pages/PaymentSuccess.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { CartContext } from '../../App';\nimport '../../styles/PaymentPage.css';\n\nconst PaymentSuccess = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [orderDetails, setOrderDetails] = useState(null);\n  const [paymentProcessed, setPaymentProcessed] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { setCartItems } = useContext(CartContext);\n\n  useEffect(() => {\n    // Prevent duplicate API calls\n    if (paymentProcessed) {\n      return;\n    }\n    \n    const completePayment = async () => {\n      try {\n        // Get URL parameters\n        const params = new URLSearchParams(location.search);\n        \n        // Parse all possible parameter variations\n        const paymentId = params.get('paymentId') || params.get('token');\n        const payerId = params.get('PayerID') || params.get('payerId');\n        const customerId = params.get('customerId');\n        const addressId = params.get('addressId');\n\n        console.log('URL parameters:', location.search);\n        console.log('Parsed parameters:', { paymentId, payerId, customerId, addressId });\n        \n        // Check if we have the required parameters\n        if (!customerId || !addressId) {\n          throw new Error(`Missing customer or address ID: customerId=${customerId}, addressId=${addressId}`);\n        }\n        \n        // If we're missing PayPal parameters, show an error\n        if (!paymentId) {\n          throw new Error('Missing PayPal payment ID. Payment cannot be completed.');\n        }\n        \n        if (!payerId) {\n          throw new Error('Missing PayPal Payer ID. Payment cannot be completed.');\n        }\n        \n        // Convert string IDs to numbers for backend\n        const customerIdNum = parseInt(customerId, 10);\n        const addressIdNum = parseInt(addressId, 10);\n\n        console.log('Completing PayPal payment with:', { paymentId, payerId, customerId, addressId });\n\n        try {\n          // Check local storage for existing order details to avoid duplicate API calls\n          const storedOrderDetails = localStorage.getItem('lastCompletedOrder');\n          if (storedOrderDetails) {\n            const parsedOrder = JSON.parse(storedOrderDetails);\n            // Check if this is the same payment ID\n            if (parsedOrder.paymentId === paymentId) {\n              console.log('Found existing order details in local storage:', parsedOrder);\n              setOrderDetails(parsedOrder.order);\n              setPaymentProcessed(true);\n              setLoading(false);\n              return;\n            }\n          }\n          \n          // Call backend to complete payment - use the full, correct URL\n          console.log('Sending request to backend with params:', {\n            paymentId,\n            PayerID: payerId,\n            customerId: customerIdNum,\n            addressId: addressIdNum\n          });\n          \n          const response = await axios.post(\n            'http://localhost:8080/api/paypal/complete',\n            {},  // Empty body instead of null\n            {\n              params: {\n                paymentId: paymentId,\n                PayerID: payerId,\n                customerId: customerIdNum,\n                addressId: addressIdNum\n              }\n            }\n          );\n          \n          console.log('Payment completed successfully:', response.data);\n          setOrderDetails(response.data.order);\n          \n          // Store order details in local storage to prevent duplicate processing\n          localStorage.setItem('lastCompletedOrder', JSON.stringify({\n            paymentId,\n            order: response.data.order,\n            timestamp: new Date().toISOString()\n          }));\n          \n          // Clear cart items after successful payment\n          setCartItems([]);\n          \n          // Mark payment as processed to prevent duplicate calls\n          setPaymentProcessed(true);\n          setLoading(false);\n        } catch (err) {\n          console.error('Error completing payment:', err.response ? err.response.data : err.message);\n          \n          // Check if this is a \"Cart is empty\" error, which likely means payment was already processed\n          if (err.response && err.response.data && err.response.data.includes('Cart is empty')) {\n            console.log('Cart is empty error - payment likely already processed');\n            \n            // Try to fetch order details from backend using the payment ID\n            try {\n              const orderResponse = await axios.get(`http://localhost:8080/api/orders/by-payment/${paymentId}`);\n              if (orderResponse.data) {\n                setOrderDetails(orderResponse.data);\n                setPaymentProcessed(true);\n                setLoading(false);\n                return;\n              }\n            } catch (orderErr) {\n              console.error('Failed to fetch order by payment ID:', orderErr);\n            }\n            \n            // If we can't get the order details, show a generic success message\n            setOrderDetails({\n              id: 'unknown',\n              total: 'See order history',\n              items: [],\n              status: 'COMPLETED',\n              paymentMethod: 'PAYPAL',\n              transactionId: paymentId\n            });\n            setPaymentProcessed(true);\n            setLoading(false);\n            return;\n          }\n          \n          setError(err.response ? `${err.response.status} ${err.response.statusText}: ${JSON.stringify(err.response.data)}` : err.message);\n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error completing payment:', err);\n        setError(err.message || 'Failed to complete payment');\n        setLoading(false);\n      }\n    };\n\n    completePayment();\n  }, [location.search, setCartItems, paymentProcessed]);\n\n  const handleContinueShopping = () => {\n    navigate('/');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"payment-result-container\">\n        <div className=\"payment-result-card\">\n          <h2>Processing Payment</h2>\n          <div className=\"loader\"></div>\n          <p>Please wait while we complete your order...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"payment-result-container\">\n        <div className=\"payment-result-card error\">\n          <h2>Payment Failed</h2>\n          <p>{error}</p>\n          <button className=\"primary-button\" onClick={() => navigate('/cart')}>\n            Return to Cart\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"payment-result-container\">\n      <div className=\"payment-result-card success order-confirmation-card\">\n        <div className=\"success-header\">\n          <div className=\"success-icon-container\">\n            <div className=\"success-icon\">âœ“</div> {/* Consider replacing with an SVG icon */}\n          </div>\n          <h1>Payment Successful!</h1>\n          <p className=\"reassurance-message\">\n            Thank you for your order! Your items will be processed shortly.\n            {/* Optional: Add if email confirmation is sent */}\n            {/* A confirmation email has been sent to your address. */}\n          </p>\n        </div>\n\n        {orderDetails && (\n          <div className=\"order-summary-section\">\n            <h2>Your Order Details</h2>\n            \n            <div className=\"order-meta\">\n              <p><strong>Order ID:</strong> <span className=\"order-id-value\">{orderDetails.id}</span></p>\n              <p><strong>Date:</strong> {new Date(orderDetails.orderDate).toLocaleString()}</p>\n            </div>\n\n            <div className=\"order-items-detailed\">\n              <h3>Items Ordered</h3>\n              <ul className=\"order-items-list-detailed\">\n                {orderDetails.orderItems.map(item => (\n                  <li key={item.id} className=\"order-item-entry\">\n                    <img \n                      src={item.product.imageUrl || `https://via.placeholder.com/60x60.png?text=${item.product.name.substring(0,1)}`} \n                      alt={item.product.name} \n                      className=\"item-thumbnail\" \n                    />\n                    <div className=\"item-info\">\n                      <span className=\"item-name\">{item.product.name}</span>\n                      <span className=\"item-quantity\">Qty: {item.quantity}</span>\n                    </div>\n                    <span className=\"item-price-total\">${(item.price * item.quantity).toFixed(2)}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className=\"order-totals-summary\">\n              <p className=\"grand-total\"><strong>Total Amount:</strong> <span className=\"total-value\">${orderDetails.totalAmount.toFixed(2)}</span></p>\n            </div>\n\n            <div className=\"additional-order-details\">\n              <div className=\"shipping-info-section\">\n                <h3>Shipping To:</h3>\n                {orderDetails.shippingAddress ? (\n                  <address>\n                    {orderDetails.shippingAddress.contactName || ''}<br />\n                    {orderDetails.shippingAddress.street}<br />\n                    {orderDetails.shippingAddress.city}, {orderDetails.shippingAddress.state || ''} {orderDetails.shippingAddress.postalCode}<br />\n                    {orderDetails.shippingAddress.country}\n                  </address>\n                ) : <p>Shipping address not available.</p>}\n              </div>\n              <div className=\"payment-info-section\">\n                <h3>Payment Information:</h3>\n                <p><strong>Method:</strong> {orderDetails.payments && orderDetails.payments.length > 0 ? orderDetails.payments[0].paymentMethod : 'N/A'}</p>\n                <p><strong>Transaction ID:</strong> {orderDetails.payments && orderDetails.payments.length > 0 ? orderDetails.payments[0].transactionId : 'N/A'}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"action-buttons\">\n          <button className=\"continue-shopping-button\" onClick={handleContinueShopping}>\n            Continue Shopping\n          </button>\n          <button className=\"view-orders-button\" onClick={() => navigate('/my-orders')}>\n            View My Orders\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentSuccess;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,WAAW;AACvC,OAAO,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACgB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAMkB,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9B,MAAMiB,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEiB;EAAa,CAAC,GAAGnB,UAAU,CAACI,WAAW,CAAC;EAEhDN,SAAS,CAAC,MAAM;IACd;IACA,IAAIiB,gBAAgB,EAAE;MACpB;IACF;IAEA,MAAMK,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF;QACA,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAACL,QAAQ,CAACM,MAAM,CAAC;;QAEnD;QACA,MAAMC,SAAS,GAAGH,MAAM,CAACI,GAAG,CAAC,WAAW,CAAC,IAAIJ,MAAM,CAACI,GAAG,CAAC,OAAO,CAAC;QAChE,MAAMC,OAAO,GAAGL,MAAM,CAACI,GAAG,CAAC,SAAS,CAAC,IAAIJ,MAAM,CAACI,GAAG,CAAC,SAAS,CAAC;QAC9D,MAAME,UAAU,GAAGN,MAAM,CAACI,GAAG,CAAC,YAAY,CAAC;QAC3C,MAAMG,SAAS,GAAGP,MAAM,CAACI,GAAG,CAAC,WAAW,CAAC;QAEzCI,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEb,QAAQ,CAACM,MAAM,CAAC;QAC/CM,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE;UAAEN,SAAS;UAAEE,OAAO;UAAEC,UAAU;UAAEC;QAAU,CAAC,CAAC;;QAEhF;QACA,IAAI,CAACD,UAAU,IAAI,CAACC,SAAS,EAAE;UAC7B,MAAM,IAAIG,KAAK,CAAC,8CAA8CJ,UAAU,eAAeC,SAAS,EAAE,CAAC;QACrG;;QAEA;QACA,IAAI,CAACJ,SAAS,EAAE;UACd,MAAM,IAAIO,KAAK,CAAC,yDAAyD,CAAC;QAC5E;QAEA,IAAI,CAACL,OAAO,EAAE;UACZ,MAAM,IAAIK,KAAK,CAAC,uDAAuD,CAAC;QAC1E;;QAEA;QACA,MAAMC,aAAa,GAAGC,QAAQ,CAACN,UAAU,EAAE,EAAE,CAAC;QAC9C,MAAMO,YAAY,GAAGD,QAAQ,CAACL,SAAS,EAAE,EAAE,CAAC;QAE5CC,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAE;UAAEN,SAAS;UAAEE,OAAO;UAAEC,UAAU;UAAEC;QAAU,CAAC,CAAC;QAE7F,IAAI;UACF;UACA,MAAMO,kBAAkB,GAAGC,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAAC;UACrE,IAAIF,kBAAkB,EAAE;YACtB,MAAMG,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACL,kBAAkB,CAAC;YAClD;YACA,IAAIG,WAAW,CAACd,SAAS,KAAKA,SAAS,EAAE;cACvCK,OAAO,CAACC,GAAG,CAAC,gDAAgD,EAAEQ,WAAW,CAAC;cAC1ExB,eAAe,CAACwB,WAAW,CAACG,KAAK,CAAC;cAClCzB,mBAAmB,CAAC,IAAI,CAAC;cACzBN,UAAU,CAAC,KAAK,CAAC;cACjB;YACF;UACF;;UAEA;UACAmB,OAAO,CAACC,GAAG,CAAC,yCAAyC,EAAE;YACrDN,SAAS;YACTkB,OAAO,EAAEhB,OAAO;YAChBC,UAAU,EAAEK,aAAa;YACzBJ,SAAS,EAAEM;UACb,CAAC,CAAC;UAEF,MAAMS,QAAQ,GAAG,MAAMxC,KAAK,CAACyC,IAAI,CAC/B,2CAA2C,EAC3C,CAAC,CAAC;UAAG;UACL;YACEvB,MAAM,EAAE;cACNG,SAAS,EAAEA,SAAS;cACpBkB,OAAO,EAAEhB,OAAO;cAChBC,UAAU,EAAEK,aAAa;cACzBJ,SAAS,EAAEM;YACb;UACF,CACF,CAAC;UAEDL,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEa,QAAQ,CAACE,IAAI,CAAC;UAC7D/B,eAAe,CAAC6B,QAAQ,CAACE,IAAI,CAACJ,KAAK,CAAC;;UAEpC;UACAL,YAAY,CAACU,OAAO,CAAC,oBAAoB,EAAEP,IAAI,CAACQ,SAAS,CAAC;YACxDvB,SAAS;YACTiB,KAAK,EAAEE,QAAQ,CAACE,IAAI,CAACJ,KAAK;YAC1BO,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;UACpC,CAAC,CAAC,CAAC;;UAEH;UACA/B,YAAY,CAAC,EAAE,CAAC;;UAEhB;UACAH,mBAAmB,CAAC,IAAI,CAAC;UACzBN,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC,CAAC,OAAOyC,GAAG,EAAE;UACZtB,OAAO,CAAClB,KAAK,CAAC,2BAA2B,EAAEwC,GAAG,CAACR,QAAQ,GAAGQ,GAAG,CAACR,QAAQ,CAACE,IAAI,GAAGM,GAAG,CAACC,OAAO,CAAC;;UAE1F;UACA,IAAID,GAAG,CAACR,QAAQ,IAAIQ,GAAG,CAACR,QAAQ,CAACE,IAAI,IAAIM,GAAG,CAACR,QAAQ,CAACE,IAAI,CAACQ,QAAQ,CAAC,eAAe,CAAC,EAAE;YACpFxB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;;YAErE;YACA,IAAI;cACF,MAAMwB,aAAa,GAAG,MAAMnD,KAAK,CAACsB,GAAG,CAAC,+CAA+CD,SAAS,EAAE,CAAC;cACjG,IAAI8B,aAAa,CAACT,IAAI,EAAE;gBACtB/B,eAAe,CAACwC,aAAa,CAACT,IAAI,CAAC;gBACnC7B,mBAAmB,CAAC,IAAI,CAAC;gBACzBN,UAAU,CAAC,KAAK,CAAC;gBACjB;cACF;YACF,CAAC,CAAC,OAAO6C,QAAQ,EAAE;cACjB1B,OAAO,CAAClB,KAAK,CAAC,sCAAsC,EAAE4C,QAAQ,CAAC;YACjE;;YAEA;YACAzC,eAAe,CAAC;cACd0C,EAAE,EAAE,SAAS;cACbC,KAAK,EAAE,mBAAmB;cAC1BC,KAAK,EAAE,EAAE;cACTC,MAAM,EAAE,WAAW;cACnBC,aAAa,EAAE,QAAQ;cACvBC,aAAa,EAAErC;YACjB,CAAC,CAAC;YACFR,mBAAmB,CAAC,IAAI,CAAC;YACzBN,UAAU,CAAC,KAAK,CAAC;YACjB;UACF;UAEAE,QAAQ,CAACuC,GAAG,CAACR,QAAQ,GAAG,GAAGQ,GAAG,CAACR,QAAQ,CAACgB,MAAM,IAAIR,GAAG,CAACR,QAAQ,CAACmB,UAAU,KAAKvB,IAAI,CAACQ,SAAS,CAACI,GAAG,CAACR,QAAQ,CAACE,IAAI,CAAC,EAAE,GAAGM,GAAG,CAACC,OAAO,CAAC;UAChI1C,UAAU,CAAC,KAAK,CAAC;QACnB;MACF,CAAC,CAAC,OAAOyC,GAAG,EAAE;QACZtB,OAAO,CAAClB,KAAK,CAAC,2BAA2B,EAAEwC,GAAG,CAAC;QAC/CvC,QAAQ,CAACuC,GAAG,CAACC,OAAO,IAAI,4BAA4B,CAAC;QACrD1C,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDU,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAACH,QAAQ,CAACM,MAAM,EAAEJ,YAAY,EAAEJ,gBAAgB,CAAC,CAAC;EAErD,MAAMgD,sBAAsB,GAAGA,CAAA,KAAM;IACnC7C,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC;EAED,IAAIT,OAAO,EAAE;IACX,oBACEH,OAAA;MAAK0D,SAAS,EAAC,0BAA0B;MAAAC,QAAA,eACvC3D,OAAA;QAAK0D,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAClC3D,OAAA;UAAA2D,QAAA,EAAI;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3B/D,OAAA;UAAK0D,SAAS,EAAC;QAAQ;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC9B/D,OAAA;UAAA2D,QAAA,EAAG;QAA2C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAI1D,KAAK,EAAE;IACT,oBACEL,OAAA;MAAK0D,SAAS,EAAC,0BAA0B;MAAAC,QAAA,eACvC3D,OAAA;QAAK0D,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBACxC3D,OAAA;UAAA2D,QAAA,EAAI;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvB/D,OAAA;UAAA2D,QAAA,EAAItD;QAAK;UAAAuD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACd/D,OAAA;UAAQ0D,SAAS,EAAC,gBAAgB;UAACM,OAAO,EAAEA,CAAA,KAAMpD,QAAQ,CAAC,OAAO,CAAE;UAAA+C,QAAA,EAAC;QAErE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACE/D,OAAA;IAAK0D,SAAS,EAAC,0BAA0B;IAAAC,QAAA,eACvC3D,OAAA;MAAK0D,SAAS,EAAC,qDAAqD;MAAAC,QAAA,gBAClE3D,OAAA;QAAK0D,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B3D,OAAA;UAAK0D,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrC3D,OAAA;YAAK0D,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eACN/D,OAAA;UAAA2D,QAAA,EAAI;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5B/D,OAAA;UAAG0D,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAC;QAEjC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,EAELxD,YAAY,iBACXP,OAAA;QAAK0D,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBACpC3D,OAAA;UAAA2D,QAAA,EAAI;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE3B/D,OAAA;UAAK0D,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB3D,OAAA;YAAA2D,QAAA,gBAAG3D,OAAA;cAAA2D,QAAA,EAAQ;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,eAAA/D,OAAA;cAAM0D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAEpD,YAAY,CAAC2C;YAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC3F/D,OAAA;YAAA2D,QAAA,gBAAG3D,OAAA;cAAA2D,QAAA,EAAQ;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC,IAAIpB,IAAI,CAACpC,YAAY,CAAC0D,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC;UAAA;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9E,CAAC,eAEN/D,OAAA;UAAK0D,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC3D,OAAA;YAAA2D,QAAA,EAAI;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtB/D,OAAA;YAAI0D,SAAS,EAAC,2BAA2B;YAAAC,QAAA,EACtCpD,YAAY,CAAC4D,UAAU,CAACC,GAAG,CAACC,IAAI,iBAC/BrE,OAAA;cAAkB0D,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC5C3D,OAAA;gBACEsE,GAAG,EAAED,IAAI,CAACE,OAAO,CAACC,QAAQ,IAAI,8CAA8CH,IAAI,CAACE,OAAO,CAACE,IAAI,CAACC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,EAAG;gBAC/GC,GAAG,EAAEN,IAAI,CAACE,OAAO,CAACE,IAAK;gBACvBf,SAAS,EAAC;cAAgB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC,eACF/D,OAAA;gBAAK0D,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxB3D,OAAA;kBAAM0D,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAEU,IAAI,CAACE,OAAO,CAACE;gBAAI;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACtD/D,OAAA;kBAAM0D,SAAS,EAAC,eAAe;kBAAAC,QAAA,GAAC,OAAK,EAACU,IAAI,CAACO,QAAQ;gBAAA;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxD,CAAC,eACN/D,OAAA;gBAAM0D,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,GAAC,GAAC,EAAC,CAACU,IAAI,CAACQ,KAAK,GAAGR,IAAI,CAACO,QAAQ,EAAEE,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GAV7EM,IAAI,CAACnB,EAAE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAWZ,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eAEN/D,OAAA;UAAK0D,SAAS,EAAC,sBAAsB;UAAAC,QAAA,eACnC3D,OAAA;YAAG0D,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAAC3D,OAAA;cAAA2D,QAAA,EAAQ;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,eAAA/D,OAAA;cAAM0D,SAAS,EAAC,aAAa;cAAAC,QAAA,GAAC,GAAC,EAACpD,YAAY,CAACwE,WAAW,CAACD,OAAO,CAAC,CAAC,CAAC;YAAA;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtI,CAAC,eAEN/D,OAAA;UAAK0D,SAAS,EAAC,0BAA0B;UAAAC,QAAA,gBACvC3D,OAAA;YAAK0D,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBACpC3D,OAAA;cAAA2D,QAAA,EAAI;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACpBxD,YAAY,CAACyE,eAAe,gBAC3BhF,OAAA;cAAA2D,QAAA,GACGpD,YAAY,CAACyE,eAAe,CAACC,WAAW,IAAI,EAAE,eAACjF,OAAA;gBAAA4D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,EACrDxD,YAAY,CAACyE,eAAe,CAACE,MAAM,eAAClF,OAAA;gBAAA4D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,EAC1CxD,YAAY,CAACyE,eAAe,CAACG,IAAI,EAAC,IAAE,EAAC5E,YAAY,CAACyE,eAAe,CAACI,KAAK,IAAI,EAAE,EAAC,GAAC,EAAC7E,YAAY,CAACyE,eAAe,CAACK,UAAU,eAACrF,OAAA;gBAAA4D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,EAC9HxD,YAAY,CAACyE,eAAe,CAACM,OAAO;YAAA;cAAA1B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC,gBACR/D,OAAA;cAAA2D,QAAA,EAAG;YAA+B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC,eACN/D,OAAA;YAAK0D,SAAS,EAAC,sBAAsB;YAAAC,QAAA,gBACnC3D,OAAA;cAAA2D,QAAA,EAAI;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7B/D,OAAA;cAAA2D,QAAA,gBAAG3D,OAAA;gBAAA2D,QAAA,EAAQ;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACxD,YAAY,CAACgF,QAAQ,IAAIhF,YAAY,CAACgF,QAAQ,CAACC,MAAM,GAAG,CAAC,GAAGjF,YAAY,CAACgF,QAAQ,CAAC,CAAC,CAAC,CAACjC,aAAa,GAAG,KAAK;YAAA;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5I/D,OAAA;cAAA2D,QAAA,gBAAG3D,OAAA;gBAAA2D,QAAA,EAAQ;cAAe;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACxD,YAAY,CAACgF,QAAQ,IAAIhF,YAAY,CAACgF,QAAQ,CAACC,MAAM,GAAG,CAAC,GAAGjF,YAAY,CAACgF,QAAQ,CAAC,CAAC,CAAC,CAAChC,aAAa,GAAG,KAAK;YAAA;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAED/D,OAAA;QAAK0D,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B3D,OAAA;UAAQ0D,SAAS,EAAC,0BAA0B;UAACM,OAAO,EAAEP,sBAAuB;UAAAE,QAAA,EAAC;QAE9E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT/D,OAAA;UAAQ0D,SAAS,EAAC,oBAAoB;UAACM,OAAO,EAAEA,CAAA,KAAMpD,QAAQ,CAAC,YAAY,CAAE;UAAA+C,QAAA,EAAC;QAE9E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC7D,EAAA,CAlQID,cAAc;EAAA,QAKDN,WAAW,EACXC,WAAW;AAAA;AAAA6F,EAAA,GANxBxF,cAAc;AAoQpB,eAAeA,cAAc;AAAC,IAAAwF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}